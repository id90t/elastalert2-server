# Alert when the rate of events exceeds a threshold

# (Required)
# Type of alert.
# the frequency rule type alerts when num_events events occur with timeframe time
type: flatline

# (Required)
# Index to search, wildcard supported
index: logstash-webapp-${ENVIRONMENT}-%Y.%m.%d*

use_strftime_index: true
use_count_query: true

# (Required, frequency specific)
threshold: 50

# (Required, frequency specific)
# num_events must occur within this amount of time to trigger an alert
timeframe:
  minutes: 15

run_every:
  minutes : 15
buffer_time:
  minutes : 15
realalert:
  minutes: 0

# (Required)
# The alert is use when a match is found
alert:
- slack
slack:
slack_webhook_url: "${SLACK_WEBHOOK}"
slack_username_override: "elastalert"
slack_channel_override: "#elk-${ENVIRONMENT}"
slack_emoji_override: ":robot_face:"
